%%%-------------------------------------------------------------------
%%% webgnosus http utilities
%%%-------------------------------------------------------------------
-module(webgnosus_http).

%% API
-export([
          get_url/1
        ]).

%%====================================================================
%% API
%%====================================================================
%%--------------------------------------------------------------------
%% Func: get_url(Url) -> Result
%% Description: http get request to specified url.
%%--------------------------------------------------------------------
get_url(Url) ->
    HTTPDoc = http:request(get, {Url, headers()}, [], []),
    case HTTPDoc of
        {ok, {_Status, _Headers, Body}} -> Body;
        _ -> {error}
    end.

%%--------------------------------------------------------------------
%% Func: headers() -> Result
%% Description: build request headers.
%%--------------------------------------------------------------------
headers() -> [{"User-Agent", "Webgnosus/0.0"}].

%%====================================================================
%%% Internal functions
%%====================================================================
